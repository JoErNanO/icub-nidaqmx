<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>iCub-NIDAQmx: nidaqmx::NIDAQmxTask Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">iCub-NIDAQmx
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacenidaqmx.html">nidaqmx</a></li><li class="navelem"><a class="el" href="classnidaqmx_1_1NIDAQmxTask.html">NIDAQmxTask</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">nidaqmx::NIDAQmxTask Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classnidaqmx_1_1NIDAQmxTask.html" title="The NIDAQmxTask is a C++ wrapper for the National Instruments proprietary NIDAQmx library...">NIDAQmxTask</a> is a C++ wrapper for the National Instruments proprietary NIDAQmx library.  
 <a href="classnidaqmx_1_1NIDAQmxTask.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="NIDAQmxTask_8h_source.html">NIDAQmxTask.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a85897e734d72cc76a5c771e466e56794"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidaqmx_1_1NIDAQmxTask.html#a85897e734d72cc76a5c771e466e56794">NIDAQmxTask</a> (const <a class="el" href="structnidaqmx_1_1NIDAQmxTaskParams.html">nidaqmx::NIDAQmxTaskParams</a> &amp;aDAQTaskParams)</td></tr>
<tr class="separator:a85897e734d72cc76a5c771e466e56794"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab060b7dd8435ab051739e719014554eb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidaqmx_1_1NIDAQmxTask.html#ab060b7dd8435ab051739e719014554eb">initialiseDAQTask</a> (void)</td></tr>
<tr class="separator:ab060b7dd8435ab051739e719014554eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5414f5c398eb2c19f8cab36e01604e3d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidaqmx_1_1NIDAQmxTask.html#a5414f5c398eb2c19f8cab36e01604e3d">runDAQTask</a> (<a class="el" href="structnidaqmx_1_1NIDAQmxResults.html">nidaqmx::NIDAQmxResults</a> &amp;i_results)</td></tr>
<tr class="separator:a5414f5c398eb2c19f8cab36e01604e3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb664caaa96ab6859762ac6abc7f76fd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidaqmx_1_1NIDAQmxTask.html#aeb664caaa96ab6859762ac6abc7f76fd">stopDAQTask</a> (void)</td></tr>
<tr class="separator:aeb664caaa96ab6859762ac6abc7f76fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea38c95ce0df33b5014081911b0bbc2a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnidaqmx_1_1NIDAQmxTask.html#aea38c95ce0df33b5014081911b0bbc2a">clearDAQTask</a> (void)</td></tr>
<tr class="separator:aea38c95ce0df33b5014081911b0bbc2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classnidaqmx_1_1NIDAQmxTask.html" title="The NIDAQmxTask is a C++ wrapper for the National Instruments proprietary NIDAQmx library...">NIDAQmxTask</a> is a C++ wrapper for the National Instruments proprietary NIDAQmx library. </p>
<h1><a class="anchor" id="intro_sec"></a>
Description</h1>
<p>The <a class="el" href="classnidaqmx_1_1NIDAQmxTask.html" title="The NIDAQmxTask is a C++ wrapper for the National Instruments proprietary NIDAQmx library...">NIDAQmxTask</a> is a C++ wrapper for the National Instruments proprietary NIDAQmx library. This library can be freely downloaded from the National Instruments website. It is available for the following operative systems:</p>
<ul>
<li>Linux (NIDAQmxBase): <a href="http://search.ni.com/nisearch/app/main/p/bot/no/ap/tech/lang/it/pg/1/sn/catnav:du/q/nidaqmxbase/">http://search.ni.com/nisearch/app/main/p/bot/no/ap/tech/lang/it/pg/1/sn/catnav:du/q/nidaqmxbase/</a></li>
<li>Windows (NIDAQmx): <a href="http://search.ni.com/nisearch/app/main/p/bot/no/ap/tech/lang/it/pg/1/sn/catnav:du,n8%3A3478.41.181.5495/q/ni-daqmx/">http://search.ni.com/nisearch/app/main/p/bot/no/ap/tech/lang/it/pg/1/sn/catnav:du,n8%3A3478.41.181.5495/q/ni-daqmx/</a></li>
</ul>
<p>The typical NIDAQmx workflow is as follows:</p>
<ol type="1">
<li>Create the DAQ task<ol type="a">
<li>Create the data channels to acquire</li>
<li>Set the DAQ timing/clock options</li>
<li>Start the task</li>
</ol>
</li>
<li>Read the samples</li>
<li>Stop the task</li>
<li>Clear the task</li>
</ol>
<p>This library provides an interface to this NIDAQmx workflow by providing four methods:</p>
<ol type="1">
<li><a class="el" href="classnidaqmx_1_1NIDAQmxTask.html#ab060b7dd8435ab051739e719014554eb">initialiseDAQTask()</a></li>
<li><a class="el" href="classnidaqmx_1_1NIDAQmxTask.html#a5414f5c398eb2c19f8cab36e01604e3d">runDAQTask()</a></li>
<li><a class="el" href="classnidaqmx_1_1NIDAQmxTask.html#aeb664caaa96ab6859762ac6abc7f76fd">stopDAQTask()</a></li>
<li><a class="el" href="classnidaqmx_1_1NIDAQmxTask.html#aea38c95ce0df33b5014081911b0bbc2a">clearDAQTask()</a></li>
</ol>
<p>It is important to clear any task which is created using this API to free any allocated memory.</p>
<p>The <a class="el" href="classnidaqmx_1_1NIDAQmxTask.html" title="The NIDAQmxTask is a C++ wrapper for the National Instruments proprietary NIDAQmx library...">NIDAQmxTask</a> is configured to perform continuous data acquisition. NIDAQmx continuous data acquisition tasks work by sampling data at a given frequency. The samples are then placed into a circular buffer. The buffer is then emptied by iteratively reading a set number of samples from it.</p>
<p>Problems can arise if the sampling frequency is faster than the rate at which the buffer is emptied. In this case the data in the buffer will be overwritten and some samples will be lost.</p>
<p>These parameters (sampling rate, number of samples to read from the buffer, etc.) are set by the user and passed to the task constructor.</p>
<h1><a class="anchor" id="lib_sec"></a>
Libraries</h1>
<p>This wrapper depends on different libraries depending on the operative system:</p>
<ul>
<li>Linux installations require libnidaqmxbase &gt;= 3.7 (provided by the NIDAQmxBase software package)</li>
<li>Windows requires NIDAQmx.lib &gt;= 9.7 (provided by the NIDAQmx software package).</li>
</ul>
<h1><a class="anchor" id="supported_daq_cards"></a>
Supported National Instruments DAQ cards</h1>
<p>This module supports all the DAQ cards which are supported by the installed NIDAQmx (or NIDAQmxBase) library. These are listed in the library Readme.</p>
<h1><a class="anchor" id="tested_os_sec"></a>
Tested OS</h1>
<p>Linux, Windows</p>
<dl class="section author"><dt>Author</dt><dd>Francesco Giovannini (<a href="#" onclick="location.href='mai'+'lto:'+'fra'+'nc'+'esc'+'o.'+'gio'+'va'+'nni'+'ni'+'@ii'+'t.'+'it'; return false;">franc<span style="display: none;">.nosp@m.</span>esco<span style="display: none;">.nosp@m.</span>.giov<span style="display: none;">.nosp@m.</span>anni<span style="display: none;">.nosp@m.</span>ni@ii<span style="display: none;">.nosp@m.</span>t.it</a>)</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd></dd></dl>
<p>Copyright (C) 2013 Francesco Giovannini, iCub Facility - Istituto Italiano di Tecnologia</p>
<p>CopyPolicy: Released under the terms of the GNU GPL v2.0.</p>
<p>This file can be edited at contrib/src/dataAcquisition/NIDAQmx/src/lib/include/NIDAQmxTask.h. </p>

<p>Definition at line <a class="el" href="NIDAQmxTask_8h_source.html#l00200">200</a> of file <a class="el" href="NIDAQmxTask_8h_source.html">NIDAQmxTask.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a85897e734d72cc76a5c771e466e56794"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NIDAQmxTask::NIDAQmxTask </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnidaqmx_1_1NIDAQmxTaskParams.html">nidaqmx::NIDAQmxTaskParams</a> &amp;&#160;</td>
          <td class="paramname"><em>aDAQTaskParams</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Default constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aDAQTaskParams</td><td>The DAQ parameters structure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="NIDAQmxTask_8cpp_source.html#l00034">34</a> of file <a class="el" href="NIDAQmxTask_8cpp_source.html">NIDAQmxTask.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    : DAQDeviceName(aDAQTaskParams.<a class="code" href="structnidaqmx_1_1NIDAQmxTaskParams.html#a87c61e536a539e2ca4e484e0a14b00a9">DAQDeviceName</a>)</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;      , DAQTaskConfig(aDAQTaskParams.<a class="code" href="structnidaqmx_1_1NIDAQmxTaskParams.html#a47d1fa8286d0bc1dd214bf8a68120523">DAQTaskName</a>, aDAQTaskParams.<a class="code" href="structnidaqmx_1_1NIDAQmxTaskParams.html#a8fce01f0eb6233c159f4f8697f575c7a">DAQChannels</a>, aDAQTaskParams.<a class="code" href="structnidaqmx_1_1NIDAQmxTaskParams.html#a529ef8642ca99d4f93a81827514302a3">DAQChannelTypes</a>,</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;            aDAQTaskParams.<a class="code" href="structnidaqmx_1_1NIDAQmxTaskParams.html#ad7e1c55e1ad4274f8487a84c9743a0ee">DAQTerminalConfig</a>, aDAQTaskParams.<a class="code" href="structnidaqmx_1_1NIDAQmxTaskParams.html#ae26d65f183cd31e94a38b52e60b6f6a5">DAQMinVals</a>, aDAQTaskParams.<a class="code" href="structnidaqmx_1_1NIDAQmxTaskParams.html#a9067903dd9ef28111720fb4704b5fa32">DAQMaxVals</a>)</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;      , DAQSamplingConfig(aDAQTaskParams.<a class="code" href="structnidaqmx_1_1NIDAQmxTaskParams.html#a5cb08de6f9d8dffe2b3a49d1cb7b4870">DAQSamplesPerChannel</a>, aDAQTaskParams.<a class="code" href="structnidaqmx_1_1NIDAQmxTaskParams.html#ae0ffea010eb064c849426765b6dec578">DAQSamplingRate</a>, aDAQTaskParams.<a class="code" href="structnidaqmx_1_1NIDAQmxTaskParams.html#a42028c178c830df91491df3ec9b9a6a5">DAQSamplingTimeout</a>, aDAQTaskParams.<a class="code" href="structnidaqmx_1_1NIDAQmxTaskParams.html#a1dbd1a1babb18f88b722d389dcb82a46">DAQSamplingBufferSize</a>)</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;      , DAQCalibrationConfig(aDAQTaskParams.<a class="code" href="structnidaqmx_1_1NIDAQmxTaskParams.html#a8ef0cc05a170a501aad747ad0c400f92">DAQSensorCalibScales</a>, aDAQTaskParams.<a class="code" href="structnidaqmx_1_1NIDAQmxTaskParams.html#a35f32b04358780cea09454e034140509">DAQSensorCalibMatrix</a>) {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    DAQTaskHandle = 0;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    generateMaps();</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aea38c95ce0df33b5014081911b0bbc2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool NIDAQmxTask::clearDAQTask </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clear the DAQ task and delete any dynamically allocated memory associated with it. </p>

<p>Definition at line <a class="el" href="NIDAQmxTask_8cpp_source.html#l00110">110</a> of file <a class="el" href="NIDAQmxTask_8cpp_source.html">NIDAQmxTask.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                                   {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">if</span>(DAQTaskHandle != 0)  {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="comment">// Ensure the task is stopped correctly</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;NIDAQmxTask: Clearing the DAQ Task. \n&quot;</span>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="preprocessor">#ifdef __linux__</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="preprocessor"></span><span class="comment">//        DAQmxBaseStopTask(DAQTaskHandle);</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="keywordflow">if</span> (!errorCheck(DAQmxBaseClearTask(DAQTaskHandle))) {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        }</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="preprocessor">#elif _WIN32</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="preprocessor"></span><span class="comment">//        DAQmxStopTask(DAQTaskHandle);</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="keywordflow">if</span> (!errorCheck(DAQmxClearTask(DAQTaskHandle))) {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="preprocessor"></span>        </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;NIDAQmxTask: DAQ Task cleared. \n&quot;</span>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab060b7dd8435ab051739e719014554eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool NIDAQmxTask::initialiseDAQTask </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Default destructor. Initialise the DAQ Task by creating it, adding the DAQ channels, configuring the sampling and starting it. </p>

<p>Definition at line <a class="el" href="NIDAQmxTask_8cpp_source.html#l00055">55</a> of file <a class="el" href="NIDAQmxTask_8cpp_source.html">NIDAQmxTask.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                                        {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="comment">// Creates and starts the DAQ Task</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">if</span>(createDAQTask()) {</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keywordflow">return</span> startDAQTask();</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    }</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5414f5c398eb2c19f8cab36e01604e3d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool NIDAQmxTask::runDAQTask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnidaqmx_1_1NIDAQmxResults.html">nidaqmx::NIDAQmxResults</a> &amp;&#160;</td>
          <td class="paramname"><em>i_results</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Run the DAQ task and read the data samples in the given array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i_results</td><td>The result structure in which to store the sensor values </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="NIDAQmxTask_8cpp_source.html#l00068">68</a> of file <a class="el" href="NIDAQmxTask_8cpp_source.html">NIDAQmxTask.cpp</a>.</p>

<p>References <a class="el" href="NIDAQmxTask_8h_source.html#l00126">nidaqmx::NIDAQmxResults::analogValues</a>, and <a class="el" href="NIDAQmxTask_8h_source.html#l00131">nidaqmx::NIDAQmxResults::realValues</a>.</p>
<div class="fragment"><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                                                             {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">// Read sensor values</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keywordflow">if</span>(readAnalogValues(i_results.<a class="code" href="structnidaqmx_1_1NIDAQmxResults.html#a7ad796b856bb0ec0980d4aa0d988a5b7">analogValues</a>)) {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="keywordflow">return</span> computeSensorValues(i_results.<a class="code" href="structnidaqmx_1_1NIDAQmxResults.html#a7ad796b856bb0ec0980d4aa0d988a5b7">analogValues</a>, i_results.<a class="code" href="structnidaqmx_1_1NIDAQmxResults.html#a04ef5d9425b1c536632f7d3d0fe663ed">realValues</a>);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aeb664caaa96ab6859762ac6abc7f76fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool NIDAQmxTask::stopDAQTask </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stop the DAQ task. </p>

<p>Definition at line <a class="el" href="NIDAQmxTask_8cpp_source.html#l00081">81</a> of file <a class="el" href="NIDAQmxTask_8cpp_source.html">NIDAQmxTask.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                                  {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">if</span>(DAQTaskHandle != 0)  {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="comment">// Ensure the task is stopped correctly</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;NIDAQmxTask: Stopping the DAQ Task. \n&quot;</span>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#ifdef __linux__</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="preprocessor"></span>        <span class="keywordflow">if</span>(!errorCheck(DAQmxBaseStopTask(DAQTaskHandle))) {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        }</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">//        DAQmxBaseClearTask(DAQTaskHandle);</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">#elif _WIN32</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="preprocessor"></span>        <span class="keywordflow">if</span> (!errorCheck(DAQmxStopTask(DAQTaskHandle))) {</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        }</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">//        DAQmxClearTask(DAQTaskHandle);</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="preprocessor"></span>        </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;NIDAQmxTask: DAQ Task stopped. \n&quot;</span>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/lib/NIDAQmxTask/include/<a class="el" href="NIDAQmxTask_8h_source.html">NIDAQmxTask.h</a></li>
<li>src/lib/NIDAQmxTask/<a class="el" href="NIDAQmxTask_8cpp_source.html">NIDAQmxTask.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jul 18 2014 09:48:21 for iCub-NIDAQmx by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>
